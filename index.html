<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>月額料金シミュレーター</title>

<style>
body {
  margin: 0;
  padding: 0;
  background: #ffffff;
  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif;
}

.simulator {
  max-width: 520px;
  margin: 0 auto;
  padding: 20px;
  background: #fff7e6;
  box-sizing: border-box;
}

h1 {
  text-align: center;
  font-size: 22px;
  margin-bottom: 20px;
}

.block {
  margin-bottom: 18px;
}

label {
  display: block;
  font-weight: bold;
  margin-bottom: 6px;
}

select {
  width: 100%;
  padding: 10px;
  font-size: 16px;
}

select option[value=""] {
  color: #999;
}

button {
  width: 100%;
  margin-top: 20px;
  padding: 14px;
  font-size: 16px;
  font-weight: bold;
  background: linear-gradient(90deg, #ff9800, #8bc34a);
  color: #fff;
  border: none;
  border-radius: 999px;
}

.result {
  margin-top: 24px;
  padding: 14px;
  background: #ffffff;
  border-radius: 10px;
  font-size: 18px;
  font-weight: bold;
  text-align: center;
}
</style>
</head>

<body>

<div class="simulator">
  <h1>月額料金シミュレーター</h1>

  <!-- 学年 -->
  <div class="block">
    <label for="grade">学年</label>
    <select id="grade">
      <option value="" selected disabled>選択してください</option>
      <option value="e1">小1</option>
      <option value="e2">小2</option>
      <option value="e3">小3</option>
      <option value="e4">小4</option>
      <option value="e5">小5</option>
      <option value="e6">小6</option>
      <option value="j1">中1</option>
      <option value="j2">中2</option>
      <option value="j3">中3</option>
      <option value="h1">高1</option>
      <option value="h2">高2</option>
      <option value="h3">高3</option>
    </select>
  </div>

  <!-- コース -->
  <div class="block">
    <label for="course">コース</label>
    <select id="course">
      <option value="" selected disabled>選択してください</option>
    </select>
  </div>

  <!-- 週回数 -->
  <div class="block">
    <label for="frequency">週回数</label>
    <select id="frequency">
      <option value="" selected disabled>選択してください</option>
    </select>
  </div>

  <button onclick="calculate()">料金を計算する</button>

  <div id="result" class="result" style="display:none;"></div>
  
<div
  class="result-note"
  style="
    margin-top:10px;
    font-size:11px;
    color:#999;
    line-height:1.5;
    opacity:0.9;
  ">
  ※表示金額は月額の目安です。割引制度・キャンペーン情報等詳細は校舎担当者にお問い合わせください。<br>
  ※入会金は別途。
</div>
  
</div>

<script>
/* 学年 → 内部カテゴリ対応 */
const gradeMap = {
  e1: "g12",
  e2: "g12",
  e3: "g34",
  e4: "g34",
  e5: "g56",
  e6: "g56"
};

/* 料金データ */
const priceData = {
  g12: {
    wakuwaku: {
      name: "わくわく こくご・さんすうコース",
      prices: {2: 9900, 3: 11000, 4: 14300}
    }
  },
  g34: {
    elementary: {
      name: "小学生コース",
      prices: {2: 11000, 3: 12100, 4: 15400, 5: 18700}
    },
    exam: {
      name: "中学受験コース",
      prices: {2: 17600, 3: 23100, 4: 28600}
    }
  },
  g56: {
    elementary: {
      name: "小学生コース",
      prices: {1: 16500, 2: 19800, 3: 25300, 4: 30800}
    },
    exam: {
      name: "中学受験コース",
      prices: {2: 19800, 3: 25300, 4: 30800}
    }
  }
};

const grade = document.getElementById("grade");
const course = document.getElementById("course");
const freq = document.getElementById("frequency");
const result = document.getElementById("result");

grade.addEventListener("change", () => {
  course.innerHTML = '<option value="" selected disabled>選択してください</option>';
  freq.innerHTML = '<option value="" selected disabled>選択してください</option>';
  result.style.display = "none";

  const group = gradeMap[grade.value];
  if (!group) return;

  const courses = priceData[group];
  for (const key in courses) {
    const opt = document.createElement("option");
    opt.value = key;
    opt.textContent = courses[key].name;
    course.appendChild(opt);
  }
});

course.addEventListener("change", () => {
  freq.innerHTML = '<option value="" selected disabled>選択してください</option>';
  result.style.display = "none";

  const group = gradeMap[grade.value];
  const prices = priceData[group][course.value].prices;

  for (const w in prices) {
    const opt = document.createElement("option");
    opt.value = w;
    opt.textContent = `週${w}`;
    freq.appendChild(opt);
  }
});

function calculate() {
  if (!grade.value || !course.value || !freq.value) {
    alert("すべて選択してください");
    return;
  }

  const group = gradeMap[grade.value];
  const price = priceData[group][course.value].prices[freq.value];

  result.style.display = "block";
  result.textContent = `月額目安：${price.toLocaleString()}円`;
}
</script>

</body>
</html>
