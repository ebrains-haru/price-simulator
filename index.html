<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>月額料金シミュレーター</title>

<style>
body {
  margin: 0;
  padding: 0;
  background: #ffffff;
  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif;
}

.simulator {
  max-width: 520px;
  margin: 0 auto;
  padding: 20px;
  background: #fff7e6;
  box-sizing: border-box;
}

h1 {
  text-align: center;
  font-size: 22px;
  margin-bottom: 24px;
}

.block {
  margin-bottom: 18px;
}

label {
  display: block;
  font-weight: bold;
  margin-bottom: 6px;
}

select {
  width: 100%;
  padding: 10px;
  font-size: 16px;
}

button {
  width: 100%;
  margin-top: 22px;
  padding: 14px;
  font-size: 16px;
  font-weight: bold;
  background: linear-gradient(90deg, #ff9800, #8bc34a);
  color: #fff;
  border: none;
  border-radius: 999px;
}

.result-wrap {
  margin-top: 24px;
  display: none;
}

#tuition {
  font-size: 16px;
  text-align: center;
  font-weight: bold;
}

#total {
  background: #ffffff;
  border-radius: 10px;
  padding: 14px;
  font-size: 20px;
  font-weight: bold;
  text-align: center;
  color: #ff9800;
  margin-top: 10px;
}
</style>
</head>

<body>

<div class="simulator">
  <h1>月額料金シミュレーター</h1>

  <div class="block">
    <label>学年</label>
    <select id="grade">
      <option value="" selected disabled>選択してください</option>
      <option value="e1">小1</option>
      <option value="e2">小2</option>
      <option value="e3">小3</option>
      <option value="e4">小4</option>
      <option value="e5">小5</option>
      <option value="e6">小6</option>
      <option value="j1">中1</option>
      <option value="j2">中2</option>
      <option value="j3">中3</option>
    </select>
  </div>

  <div class="block">
    <label>コース</label>
    <select id="course">
      <option value="" selected disabled>選択してください</option>
    </select>
  </div>

  <div class="block">
    <label>週回数</label>
    <select id="frequency">
      <option value="" selected disabled>選択してください</option>
    </select>
  </div>

  <button onclick="calculate()">料金を計算する</button>

  <div id="resultWrap" class="result-wrap">

    <div id="tuition">授業料：―円</div>

    <div id="fixedFees" style="margin:10px 0; font-size:14px; text-align:center; color:#555;">
      施設維持費　3,850円<br>
      ICT教材費　1,650円
    </div>

    <div id="total">月額目安（税込）：―円</div>

    <div id="materialNote" style="margin:10px 0; font-size:14px; text-align:center; color:#555;">
      ＋<br>
      月額教材費別途<br>
      ※選択教科・数によって異なります
    </div>

    <div style="margin-top:10px;font-size:11px;color:#999;line-height:1.6;opacity:0.9;">
      ※表示金額は月額の目安です。<br>
      ※割引制度・キャンペーン情報等詳細は校舎担当者にお問い合わせください。
    </div>

  </div>
</div>

<script>
const gradeGroup = {
  e1:"g12", e2:"g12",
  e3:"g34", e4:"g34",
  e5:"g56", e6:"g56",
  j1:"j12", j2:"j12",
  j3:"j3"
};

const priceData = {
  g12:{
    wakuwaku:{name:"わくわく こくご・さんすうコース",prices:{1:9900,2:11000,3:14300}},
    subscription:{name:"小学生サブスクコース",flat:19800,limits:{6:"週6まで通い放題（1コマ45分）"}}
  },
  g34:{
    elementary:{name:"小学生コース",prices:{2:11000,3:12100,4:15400,5:18700}},
    exam:{name:"中学受験コース",prices:{2:17600,3:23100,4:28600}},
    subscription:{name:"小学生サブスクコース",flat:24750,limits:{6:"週6まで通い放題（1コマ45分）"}}
  },
  g56:{
    elementary:{name:"小学生コース",prices:{1:16500,2:19800,3:25300,4:30800}},
    exam:{name:"中学受験コース",prices:{2:19800,3:25300,4:30800}},
    subscription:{name:"小学生サブスクコース",flat:29800,limits:{3:"週3まで通い放題（1コマ90分）"}}
  },
  j12:{
    junior:{name:"中学生コース",prices:{2:25300,3:34100,4:42900}},
    subscription:{name:"中学生サブスクコース",flat:41800,limits:{3:"週3まで通い放題（1コマ90分）"}}
  },
  j3:{
    examhs:{name:"高校受験コース",prices:{2:26950,3:37950,4:48950}},
    subscription:{name:"中学生サブスクコース",flat:48950,limits:{3:"週3まで通い放題（1コマ90分）"}}
  }
};

const grade=document.getElementById("grade");
const course=document.getElementById("course");
const freq=document.getElementById("frequency");
const resultWrap=document.getElementById("resultWrap");

grade.addEventListener("change",()=>{
  course.innerHTML='<option value="" selected disabled>選択してください</option>';
  freq.innerHTML='<option value="" selected disabled>選択してください</option>';
  resultWrap.style.display="none";

  const group=gradeGroup[grade.value];
  for(const key in priceData[group]){
    const opt=document.createElement("option");
    opt.value=key;
    opt.textContent=priceData[group][key].name;
    course.appendChild(opt);
  }
});

course.addEventListener("change",()=>{
  freq.innerHTML='<option value="" selected disabled>選択してください</option>';
  resultWrap.style.display="none";

  const group=gradeGroup[grade.value];
  const data=priceData[group][course.value];

  if(data.prices){
    for(const w in data.prices){
      const opt=document.createElement("option");
      opt.value=w;
      opt.textContent=`週${w}`;
      freq.appendChild(opt);
    }
  }

  if(data.limits){
    for(const w in data.limits){
      const opt=document.createElement("option");
      opt.value=w;
      opt.textContent=data.limits[w];
      freq.appendChild(opt);
    }
  }
});

function calculate(){
  if(!grade.value||!course.value||!freq.value){
    alert("すべて選択してください");
    return;
  }

  const group=gradeGroup[grade.value];
  const data=priceData[group][course.value];

  let tuition,total;
  const materialNote=document.getElementById("materialNote");

  if(data.flat){
    tuition=data.flat;
    total=tuition;
    document.getElementById("fixedFees").style.display="none";

    materialNote.innerHTML=`
      ＋<br>
      月額教材費込み<br>
      ※ただし英語を選択の場合のみ、別途教材費1,100円が毎月かかります。
    `;
  }else{
    tuition=data.prices[freq.value];
    total=tuition+3850+1650;
    document.getElementById("fixedFees").style.display="block";

    materialNote.innerHTML=`
      ＋<br>
      月額教材費別途<br>
      ※選択教科・数によって異なります
    `;
  }

  document.getElementById("tuition").textContent=`授業料：${tuition.toLocaleString()}円`;
  document.getElementById("total").textContent=`月額目安（税込）：${total.toLocaleString()}円`;

  resultWrap.style.display="block";
}
</script>

</body>
</html>
